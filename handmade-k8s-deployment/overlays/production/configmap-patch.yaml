apiVersion: v1
kind: ConfigMap
metadata:
  name: handmade-config
data:
  # Database Configuration
  db.host: "postgres-prod-service.database.svc.cluster.local"
  db.name: "handmade_prod_db"
  
  # Redis Configuration
  redis.host: "redis-prod-service.cache.svc.cluster.local"
  
  # Logging Configuration
  logging.level.root: "WARN"
  logging.level.com.handmade: "INFO"
  logging.level.org.springframework.security: "WARN"
  
  # CORS Configuration
  cors.allowed.origins: "https://yourdomain.com,https://www.yourdomain.com,https://admin.yourdomain.com"
  
  # Feature Flags
  feature.payment.enabled: "true"
  feature.reviews.enabled: "true"
  feature.recommendations.enabled: "true"
  feature.debug.enabled: "false"
  
  # Application Properties
  application.yaml: |
    spring:
      application:
        name: handmade-backend-prod
      jpa:
        hibernate:
          ddl-auto: validate
        show-sql: false
        properties:
          hibernate:
            dialect: org.hibernate.dialect.PostgreSQLDialect
            format_sql: false
            use_sql_comments: false
            jdbc:
              batch_size: 20
            order_inserts: true
            order_updates: true
      jackson:
        serialization:
          write-dates-as-timestamps: false
          indent-output: false
        time-zone: UTC
    
    server:
      compression:
        enabled: true
        mime-types: text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
        min-response-size: 1024
      http2:
        enabled: true
      error:
        include-message: never
        include-stacktrace: never
    
    management:
      endpoints:
        web:
          exposure:
            include: health,info,metrics,prometheus
      endpoint:
        health:
          show-details: never
      metrics:
        export:
          prometheus:
            enabled: true
    
    springdoc:
      swagger-ui:
        enabled: false
      api-docs:
        enabled: false
