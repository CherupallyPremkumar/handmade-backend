<?xml version="1.0" encoding="UTF-8"?>
<!--
PickTask State Machine
Purpose: Manage the lifecycle of PickTask entities
Flow: PICK_TASK_FLOW
-->
<states>
    <event-information eventId='assign_picker' 
                       eventName='Assign picker' 
                       meta-acls="user.normal,user.admin"/>
    <event-information eventId='confirm_pick' 
                       eventName='Confirm pick' 
                       meta-acls="user.normal,user.admin"/>
    <event-information eventId='report_missing' 
                       eventName='Report missing' 
                       meta-acls="user.normal,user.admin"/>

    <flow id="PICK_TASK_FLOW" default="true">
        <manual-state id="CREATED" initialState="true">
            <on eventId="assign_picker" newStateId="ASSIGNED" componentName="pickAssignAction"/>
        </manual-state>
        <manual-state id="ASSIGNED">
            <on eventId="confirm_pick" newStateId="PICKED" componentName="pickCompleteAction"/>
            <on eventId="report_missing" newStateId="FAILED" componentName="pickFailAction"/>
        </manual-state>
        <manual-state id="PICKED" meta-endState="true">

        </manual-state>
        <manual-state id="FAILED" meta-endState="true">

        </manual-state>

    </flow>
</states>
