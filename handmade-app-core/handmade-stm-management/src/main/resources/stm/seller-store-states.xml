<?xml version="1.0" encoding="UTF-8"?>
<!--
SellerStore State Machine
Purpose: Manage the lifecycle of SellerStore entities
Flow: SELLER_STORE_FLOW
-->
<states>
    <event-information eventId='enter_maintenance' 
                       eventName='Enter maintenance' 
                       meta-acls="user.normal,user.admin"/>
    <event-information eventId='publish_store' 
                       eventName='Publish store' 
                       meta-acls="user.normal,user.admin"/>
    <event-information eventId='resume_store' 
                       eventName='Resume store' 
                       meta-acls="user.normal,user.admin"/>
    <event-information eventId='suspend_store' 
                       eventName='Suspend store' 
                       meta-acls="user.normal,user.admin"/>

    <flow id="SELLER_STORE_FLOW" default="true">
        <manual-state id="DRAFT" initialState="true">
            <on eventId="publish_store" newStateId="LIVE" componentName="storeGoLiveAction"/>
        </manual-state>
        <manual-state id="LIVE">
            <on eventId="suspend_store" newStateId="SUSPENDED" componentName="storeSuspendAction"/>
            <on eventId="enter_maintenance" newStateId="MAINTENANCE" componentName="storeEnterMaintenanceAction"/>
        </manual-state>
        <manual-state id="SUSPENDED">
            <on eventId="resume_store" newStateId="LIVE" componentName="storeExitMaintenanceAction"/>
        </manual-state>
        <manual-state id="MAINTENANCE">
            <on eventId="resume_store" newStateId="LIVE" componentName="storeExitMaintenanceAction"/>
        </manual-state>

    </flow>
</states>
