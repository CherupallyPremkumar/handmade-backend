<?xml version="1.0" encoding="UTF-8"?>
<!--
Seller State Machine
Purpose: Manage the lifecycle of Seller entities
Flow: SELLER_ACCOUNT_FLOW
-->
<states>
    <event-information eventId='activate_account' 
                       eventName='Activate account' 
                       meta-acls="user.normal,user.admin"/>
    <event-information eventId='reactivate_account' 
                       eventName='Reactivate account' 
                       meta-acls="user.normal,user.admin"/>
    <event-information eventId='suspend_account' 
                       eventName='Suspend account' 
                       meta-acls="user.normal,user.admin"/>
    <event-information eventId='terminate_account' 
                       eventName='Terminate account' 
                       meta-acls="user.normal,user.admin"/>

    <flow id="SELLER_ACCOUNT_FLOW" default="true">
        <manual-state id="DRAFT" initialState="true">
            <on eventId="activate_account" newStateId="ACTIVE" componentName="sellerActivateAction"/>
        </manual-state>
        <manual-state id="ACTIVE">
            <on eventId="suspend_account" newStateId="SUSPENDED" componentName="sellerSuspendAction"/>
            <on eventId="terminate_account" newStateId="TERMINATED" componentName="sellerTerminateAction"/>
        </manual-state>
        <manual-state id="SUSPENDED">
            <on eventId="reactivate_account" newStateId="ACTIVE" componentName="sellerReactivateAction"/>
            <on eventId="terminate_account" newStateId="TERMINATED" componentName="sellerTerminateAction"/>
        </manual-state>
        <manual-state id="TERMINATED" meta-endState="true">

        </manual-state>

    </flow>
</states>
