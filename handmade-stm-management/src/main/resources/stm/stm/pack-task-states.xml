<?xml version="1.0" encoding="UTF-8"?>
<!--
Standard E-commerce PackTask State Machine
Purpose: Manage packing tasks before shipment.
Flow: PACK_TASK_FLOW
-->
<states>
    <event-information eventId='startPacking' eventName='Start packing' meta-acls="fc.ops"/>
    <event-information eventId='sealBox'      eventName='Seal box'      meta-acls="fc.ops"/>
    <event-information eventId='markReady'    eventName='Mark ready'    meta-acls="fc.ops"/>

    <flow id="PACK_TASK_FLOW" default="true">
        <manual-state id="CREATED" initialState="true">
            <on eventId="startPacking" newStateId="PACKING" componentName="packStartAction"/>
        </manual-state>

        <manual-state id="PACKING">
            <on eventId="sealBox" newStateId="SEALED" componentName="packSealAction"/>
        </manual-state>

        <manual-state id="SEALED">
            <on eventId="markReady" newStateId="READY_FOR_DISPATCH" componentName="packReadyAction"/>
        </manual-state>

        <manual-state id="READY_FOR_DISPATCH" meta-endState="true"/>
    </flow>
</states>
