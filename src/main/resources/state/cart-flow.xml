<?xml version="1.0" encoding="UTF-8"?>
<states>

    <flow id="cartFlow" default="true">
        <entry-action componentName="cartEntryAction" />
        <exit-action componentName="cartExitAction" />

        <manual-state id="CREATED" initialState="true">
            <on eventId="addItem" componentName="addItemAction" />
            <on eventId="removeItem" componentName="removeItemAction" />
            <on eventId="checkout" newStateId="CHECKOUT_INITIATED" />
        </manual-state>

        <manual-state id="CHECKOUT_INITIATED">
            <on eventId="confirmPayment" componentName="paymentAction" newStateId="PAYMENT_CONFIRMED" />
            <on eventId="cancel" newStateId="CREATED" />
        </manual-state>

        <manual-state id="PAYMENT_CONFIRMED">
            <on eventId="ship" newStateId="SHIPPED" />
        </manual-state>

        <manual-state id="SHIPPED">
            <on eventId="deliver" newStateId="DELIVERED" />
        </manual-state>

        <manual-state id="DELIVERED" />
    </flow>

</states>