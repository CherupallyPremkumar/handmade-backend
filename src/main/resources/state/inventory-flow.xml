<?xml version="1.0" encoding="UTF-8"?>
<states>
    <flow id="inventoryFlow" default="true">
        <entry-action componentName="inventoryEntryAction" />
        <exit-action componentName="inventoryExitAction" />

        <manual-state id="CREATED" initialState="true">
            <on eventId="stock" componentName="stockInventoryService" newStateId="IN_STOCK" />
        </manual-state>

        <manual-state id="IN_STOCK">
            <on eventId="outOfStock" componentName="outOfStockInventoryService" newStateId="OUT_OF_STOCK" />
            <on eventId="lowStock" componentName="lowStockInventoryService" newStateId="LOW_STOCK" />
        </manual-state>

        <manual-state id="LOW_STOCK">
            <on eventId="restock" componentName="restockInventoryInLowStockService" newStateId="IN_STOCK" />
            <on eventId="outOfStock" componentName="outOfStockInventoryInLowStockService" newStateId="OUT_OF_STOCK" />
        </manual-state>

        <manual-state id="OUT_OF_STOCK">
            <on eventId="restock" componentName="restockInventoryService" newStateId="IN_STOCK" />
        </manual-state>
    </flow>
</states>
